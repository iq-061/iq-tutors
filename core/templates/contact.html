{% extends "base.html" %}
{% load static %}

{% block title %}Contact | IQ Tutors{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'css/contact.css' %}">
{% endblock %}

{% block content %}
<div class="contact-wrap">
  <div class="container py-5">

    <header class="contact-header text-center reveal">
      <h1 class="contact-title">Contact</h1>
      <p class="contact-subtitle">
        Tell us a bit about your child’s situation and goals. We’ll reply to arrange a free consultation.
      </p>
    </header>

    <div class="contact-layout">
      <main class="contact-main reveal">
        <div class="contact-card">

          {% if messages %}
            <div class="contact-messages">
              {% for message in messages %}
                <div class="contact-alert contact-alert-{{ message.tags }}">{{ message }}</div>
              {% endfor %}
            </div>
          {% endif %}

          <form method="post" class="contact-form" novalidate>
            {% csrf_token %}

            <div class="form-grid">
              <div class="field">
                <label class="field-label" for="full_name">Parent/Guardian Name</label>
                <input class="field-input" type="text" id="full_name" name="full_name" required
                       placeholder="e.g. Sarah Khan" value="{{ form_data.full_name|default:'' }}">
              </div>

              <div class="field">
                <label class="field-label" for="email">Email</label>
                <input class="field-input" type="email" id="email" name="email" required
                       placeholder="e.g. sarah@email.com" value="{{ form_data.email|default:'' }}">
              </div>

              <div class="field">
                <label class="field-label" for="phone">Phone (optional)</label>
                <input class="field-input" type="tel" id="phone" name="phone"
                       placeholder="e.g. 07..." value="{{ form_data.phone|default:'' }}">
              </div>

              <div class="field">
                <label class="field-label" for="year_group">Year Group</label>
                <select class="field-input" id="year_group" name="year_group" required>
                  <option value="" {% if not form_data.year_group %}selected{% endif %}>Select...</option>
                  <option value="Year 7"  {% if form_data.year_group == "Year 7" %}selected{% endif %}>Year 7</option>
                  <option value="Year 8"  {% if form_data.year_group == "Year 8" %}selected{% endif %}>Year 8</option>
                  <option value="Year 9"  {% if form_data.year_group == "Year 9" %}selected{% endif %}>Year 9</option>
                  <option value="Year 10" {% if form_data.year_group == "Year 10" %}selected{% endif %}>Year 10</option>
                  <option value="Year 11" {% if form_data.year_group == "Year 11" %}selected{% endif %}>Year 11</option>
                </select>
              </div>

              <div class="field">
                <label class="field-label" for="lesson_type">Lesson Type</label>
                <select class="field-input" id="lesson_type" name="lesson_type" required>
                  <option value="" {% if not form_data.lesson_type %}selected{% endif %}>Select...</option>
                  <option value="1-to-1" {% if form_data.lesson_type == "1-to-1" %}selected{% endif %}>1-to-1</option>
                  <option value="Focus group (up to 4)" {% if form_data.lesson_type == "Focus group (up to 4)" %}selected{% endif %}>
                    Focus group (up to 4)
                  </option>
                </select>
              </div>

              <div class="field field-full">
                <label class="field-label" for="message">Child’s situation & goals</label>
                <textarea class="field-input field-textarea" id="message" name="message" required
                          placeholder="E.g. current grade, target grade, topics struggling with, upcoming mocks/exams, learning preferences...">{{ form_data.message|default:'' }}</textarea>
              </div>
            </div>

            <div class="form-actions">
              <button type="submit" class="btn cta-btn btn-lg px-4">Send message</button>
              <p class="form-hint">We typically respond within 24–48 hours.</p>
            </div>
          </form>
        </div>
      </main>

      <aside class="contact-aside reveal">
        <div class="aside-card">
          <h2 class="aside-title">What happens next?</h2>
          <ol class="aside-steps">
            <li>We review your message and reply by email.</li>
            <li>We arrange a free consultation at a convenient time.</li>
            <li>We recommend the best plan for your child.</li>
          </ol>

          <div class="aside-note">
            <div class="aside-note-title">Tip</div>
            <div class="aside-note-text">
              If you include your child’s current grade and target grade, we can plan the consultation faster.
            </div>
          </div>
        </div>
      </aside>
    </div>

  </div>
</div>
{% endblock %}
